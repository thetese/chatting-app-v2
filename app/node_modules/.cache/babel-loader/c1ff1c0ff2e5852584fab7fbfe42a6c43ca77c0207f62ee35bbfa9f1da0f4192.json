{"ast":null,"code":"/**\n * Context for Global State Management\n */import React,{createContext,useState,useCallback}from'react';import AuthService from'../utils/auth';import{jsx as _jsx}from\"react/jsx-runtime\";export const AppContext=/*#__PURE__*/createContext();export const AppProvider=_ref=>{let{children}=_ref;const[currentUser,setCurrentUser]=useState(AuthService.getCurrentUser());const[isAuthenticated,setIsAuthenticated]=useState(AuthService.isAuthenticated());const[notifications,setNotifications]=useState([]);const[theme,setTheme]=useState('light');const[loading,setLoading]=useState(false);const login=useCallback(async(email,password)=>{try{setLoading(true);const response=await AuthService.login(email,password);setCurrentUser(response.user);setIsAuthenticated(true);return response;}catch(error){throw error;}finally{setLoading(false);}},[]);const register=useCallback(async userData=>{try{setLoading(true);const response=await AuthService.register(userData.username,userData.email,userData.password,userData.fullName);setCurrentUser(response.user);setIsAuthenticated(true);return response;}catch(error){throw error;}finally{setLoading(false);}},[]);const logout=useCallback(()=>{AuthService.logout();setCurrentUser(null);setIsAuthenticated(false);setNotifications([]);},[]);const demoLogin=useCallback(()=>{const mockUser={id:'demo-user-1',username:'demo',email:'demo@socialhub.app',fullName:'Demo User',profileImage:'/default-avatar.png'};localStorage.setItem('authToken','demo-token');localStorage.setItem('user',JSON.stringify(mockUser));setCurrentUser(mockUser);setIsAuthenticated(true);},[]);const updateUser=useCallback(userData=>{setCurrentUser(userData);},[]);const addNotification=useCallback(notification=>{setNotifications(prev=>[...prev,notification]);},[]);const removeNotification=useCallback(notificationId=>{setNotifications(prev=>prev.filter(n=>n.id!==notificationId));},[]);const value={currentUser,isAuthenticated,notifications,theme,loading,login,register,logout,demoLogin,updateUser,addNotification,removeNotification,setTheme};return/*#__PURE__*/_jsx(AppContext.Provider,{value:value,children:children});};export const useAppContext=()=>{const context=React.useContext(AppContext);if(!context){throw new Error('useAppContext must be used within AppProvider');}return context;};","map":{"version":3,"names":["React","createContext","useState","useCallback","AuthService","jsx","_jsx","AppContext","AppProvider","_ref","children","currentUser","setCurrentUser","getCurrentUser","isAuthenticated","setIsAuthenticated","notifications","setNotifications","theme","setTheme","loading","setLoading","login","email","password","response","user","error","register","userData","username","fullName","logout","demoLogin","mockUser","id","profileImage","localStorage","setItem","JSON","stringify","updateUser","addNotification","notification","prev","removeNotification","notificationId","filter","n","value","Provider","useAppContext","context","useContext","Error"],"sources":["/home/justice/Desktop/chatting-app-1/app/src/context/AppContext.js"],"sourcesContent":["/**\n * Context for Global State Management\n */\n\nimport React, { createContext, useState, useCallback } from 'react';\nimport AuthService from '../utils/auth';\n\nexport const AppContext = createContext();\n\nexport const AppProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(AuthService.getCurrentUser());\n  const [isAuthenticated, setIsAuthenticated] = useState(AuthService.isAuthenticated());\n  const [notifications, setNotifications] = useState([]);\n  const [theme, setTheme] = useState('light');\n  const [loading, setLoading] = useState(false);\n\n  const login = useCallback(async (email, password) => {\n    try {\n      setLoading(true);\n      const response = await AuthService.login(email, password);\n      setCurrentUser(response.user);\n      setIsAuthenticated(true);\n      return response;\n    } catch (error) {\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const register = useCallback(async (userData) => {\n    try {\n      setLoading(true);\n      const response = await AuthService.register(\n        userData.username,\n        userData.email,\n        userData.password,\n        userData.fullName\n      );\n      setCurrentUser(response.user);\n      setIsAuthenticated(true);\n      return response;\n    } catch (error) {\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const logout = useCallback(() => {\n    AuthService.logout();\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setNotifications([]);\n  }, []);\n\n  const demoLogin = useCallback(() => {\n    const mockUser = {\n      id: 'demo-user-1',\n      username: 'demo',\n      email: 'demo@socialhub.app',\n      fullName: 'Demo User',\n      profileImage: '/default-avatar.png'\n    };\n    localStorage.setItem('authToken', 'demo-token');\n    localStorage.setItem('user', JSON.stringify(mockUser));\n    setCurrentUser(mockUser);\n    setIsAuthenticated(true);\n  }, []);\n\n  const updateUser = useCallback((userData) => {\n    setCurrentUser(userData);\n  }, []);\n\n  const addNotification = useCallback((notification) => {\n    setNotifications(prev => [...prev, notification]);\n  }, []);\n\n  const removeNotification = useCallback((notificationId) => {\n    setNotifications(prev => prev.filter(n => n.id !== notificationId));\n  }, []);\n\n  const value = {\n    currentUser,\n    isAuthenticated,\n    notifications,\n    theme,\n    loading,\n    login,\n    register,\n    logout,\n    demoLogin,\n    updateUser,\n    addNotification,\n    removeNotification,\n    setTheme\n  };\n\n  return <AppContext.Provider value={value}>{children}</AppContext.Provider>;\n};\n\nexport const useAppContext = () => {\n  const context = React.useContext(AppContext);\n  if (!context) {\n    throw new Error('useAppContext must be used within AppProvider');\n  }\n  return context;\n};\n"],"mappings":"AAAA;AACA;AACA,GAEA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACnE,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExC,MAAO,MAAM,CAAAC,UAAU,cAAGN,aAAa,CAAC,CAAC,CAEzC,MAAO,MAAM,CAAAO,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACtC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAACE,WAAW,CAACS,cAAc,CAAC,CAAC,CAAC,CAC5E,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAACE,WAAW,CAACU,eAAe,CAAC,CAAC,CAAC,CACrF,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,OAAO,CAAC,CAC3C,KAAM,CAACkB,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAoB,KAAK,CAAGnB,WAAW,CAAC,MAAOoB,KAAK,CAAEC,QAAQ,GAAK,CACnD,GAAI,CACFH,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAArB,WAAW,CAACkB,KAAK,CAACC,KAAK,CAAEC,QAAQ,CAAC,CACzDZ,cAAc,CAACa,QAAQ,CAACC,IAAI,CAAC,CAC7BX,kBAAkB,CAAC,IAAI,CAAC,CACxB,MAAO,CAAAU,QAAQ,CACjB,CAAE,MAAOE,KAAK,CAAE,CACd,KAAM,CAAAA,KAAK,CACb,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,QAAQ,CAAGzB,WAAW,CAAC,KAAO,CAAA0B,QAAQ,EAAK,CAC/C,GAAI,CACFR,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAArB,WAAW,CAACwB,QAAQ,CACzCC,QAAQ,CAACC,QAAQ,CACjBD,QAAQ,CAACN,KAAK,CACdM,QAAQ,CAACL,QAAQ,CACjBK,QAAQ,CAACE,QACX,CAAC,CACDnB,cAAc,CAACa,QAAQ,CAACC,IAAI,CAAC,CAC7BX,kBAAkB,CAAC,IAAI,CAAC,CACxB,MAAO,CAAAU,QAAQ,CACjB,CAAE,MAAOE,KAAK,CAAE,CACd,KAAM,CAAAA,KAAK,CACb,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAW,MAAM,CAAG7B,WAAW,CAAC,IAAM,CAC/BC,WAAW,CAAC4B,MAAM,CAAC,CAAC,CACpBpB,cAAc,CAAC,IAAI,CAAC,CACpBG,kBAAkB,CAAC,KAAK,CAAC,CACzBE,gBAAgB,CAAC,EAAE,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAgB,SAAS,CAAG9B,WAAW,CAAC,IAAM,CAClC,KAAM,CAAA+B,QAAQ,CAAG,CACfC,EAAE,CAAE,aAAa,CACjBL,QAAQ,CAAE,MAAM,CAChBP,KAAK,CAAE,oBAAoB,CAC3BQ,QAAQ,CAAE,WAAW,CACrBK,YAAY,CAAE,qBAChB,CAAC,CACDC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAE,YAAY,CAAC,CAC/CD,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAAC,CAAC,CACtDtB,cAAc,CAACsB,QAAQ,CAAC,CACxBnB,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAA0B,UAAU,CAAGtC,WAAW,CAAE0B,QAAQ,EAAK,CAC3CjB,cAAc,CAACiB,QAAQ,CAAC,CAC1B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAa,eAAe,CAAGvC,WAAW,CAAEwC,YAAY,EAAK,CACpD1B,gBAAgB,CAAC2B,IAAI,EAAI,CAAC,GAAGA,IAAI,CAAED,YAAY,CAAC,CAAC,CACnD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,kBAAkB,CAAG1C,WAAW,CAAE2C,cAAc,EAAK,CACzD7B,gBAAgB,CAAC2B,IAAI,EAAIA,IAAI,CAACG,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACb,EAAE,GAAKW,cAAc,CAAC,CAAC,CACrE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,KAAK,CAAG,CACZtC,WAAW,CACXG,eAAe,CACfE,aAAa,CACbE,KAAK,CACLE,OAAO,CACPE,KAAK,CACLM,QAAQ,CACRI,MAAM,CACNC,SAAS,CACTQ,UAAU,CACVC,eAAe,CACfG,kBAAkB,CAClB1B,QACF,CAAC,CAED,mBAAOb,IAAA,CAACC,UAAU,CAAC2C,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAAvC,QAAA,CAAEA,QAAQ,CAAsB,CAAC,CAC5E,CAAC,CAED,MAAO,MAAM,CAAAyC,aAAa,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAAC,OAAO,CAAGpD,KAAK,CAACqD,UAAU,CAAC9C,UAAU,CAAC,CAC5C,GAAI,CAAC6C,OAAO,CAAE,CACZ,KAAM,IAAI,CAAAE,KAAK,CAAC,+CAA+C,CAAC,CAClE,CACA,MAAO,CAAAF,OAAO,CAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}