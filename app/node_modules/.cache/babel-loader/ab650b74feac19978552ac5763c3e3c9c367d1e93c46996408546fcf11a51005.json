{"ast":null,"code":"import React,{useState}from'react';import'../styles/create.css';import{PhotoIcon,VideoIcon,EmojiIcon}from'./NavIcons';/**\n * Create Post Component\n * Allows users to create new posts with text and media\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreatePost=_ref=>{let{currentUser,onPostCreated}=_ref;const[content,setContent]=useState('');const[images,setImages]=useState([]);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const handleImageUpload=e=>{const files=Array.from(e.target.files);setImages([...images,...files]);};const removeImage=index=>{setImages(images.filter((_,i)=>i!==index));};const handleSubmit=async e=>{e.preventDefault();if(!content.trim()&&images.length===0){setError('Post cannot be empty');return;}try{setIsLoading(true);setError(null);// Create FormData for file upload\nconst formData=new FormData();formData.append('content',content);formData.append('userId',currentUser.id);images.forEach(img=>formData.append('images',img));// API call would go here\n// const response = await fetch('/api/posts', {\n//   method: 'POST',\n//   body: formData\n// });\n// const newPost = await response.json();\nconst newPost={id:Date.now(),userId:currentUser.id,author:currentUser,content,images:[],likes:[],likeCount:0,comments:[],commentCount:0,createdAt:new Date()};onPostCreated(newPost);setContent('');setImages([]);}catch(err){setError('Failed to create post');console.error(err);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"create-post-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"create-post-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:(currentUser===null||currentUser===void 0?void 0:currentUser.profileImage)||'/default-avatar.png',alt:currentUser===null||currentUser===void 0?void 0:currentUser.username,className:\"profile-image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"create-post-input-wrapper\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:e=>setContent(e.target.value),placeholder:\"What's on your mind?\",className:\"post-textarea\",maxLength:5000}),images.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"image-preview-container\",children:images.map((img,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-preview\",children:[/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(img),alt:\"preview-\".concat(idx)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeImage(idx),className:\"remove-image\",children:\"\\xD7\"})]},idx))}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-post-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-actions\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"action-btn create-action-btn\",title:\"Upload Image\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*\",onChange:handleImageUpload,style:{display:'none'}}),/*#__PURE__*/_jsx(\"span\",{className:\"create-action-icon\",children:/*#__PURE__*/_jsx(PhotoIcon,{})}),\"Photo\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"action-btn create-action-btn\",title:\"Add Video\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"create-action-icon\",children:/*#__PURE__*/_jsx(VideoIcon,{})}),\"Video\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"action-btn create-action-btn\",title:\"Add Emoji\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"create-action-icon\",children:/*#__PURE__*/_jsx(EmojiIcon,{})}),\"Emoji\"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",disabled:isLoading||!content.trim()&&images.length===0,children:isLoading?'Posting...':'Post'})]})]})})]})});};export default CreatePost;","map":{"version":3,"names":["React","useState","PhotoIcon","VideoIcon","EmojiIcon","jsx","_jsx","jsxs","_jsxs","CreatePost","_ref","currentUser","onPostCreated","content","setContent","images","setImages","isLoading","setIsLoading","error","setError","handleImageUpload","e","files","Array","from","target","removeImage","index","filter","_","i","handleSubmit","preventDefault","trim","length","formData","FormData","append","id","forEach","img","newPost","Date","now","userId","author","likes","likeCount","comments","commentCount","createdAt","err","console","className","children","src","profileImage","alt","username","onSubmit","value","onChange","placeholder","maxLength","map","idx","URL","createObjectURL","concat","type","onClick","title","multiple","accept","style","display","disabled"],"sources":["/home/justice/Desktop/chatting-app-1/app/src/components/create.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styles/create.css';\nimport { PhotoIcon, VideoIcon, EmojiIcon } from './NavIcons';\n\n/**\n * Create Post Component\n * Allows users to create new posts with text and media\n */\nconst CreatePost = ({ currentUser, onPostCreated }) => {\n  const [content, setContent] = useState('');\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleImageUpload = (e) => {\n    const files = Array.from(e.target.files);\n    setImages([...images, ...files]);\n  };\n\n  const removeImage = (index) => {\n    setImages(images.filter((_, i) => i !== index));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!content.trim() && images.length === 0) {\n      setError('Post cannot be empty');\n      return;\n    }\n\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      // Create FormData for file upload\n      const formData = new FormData();\n      formData.append('content', content);\n      formData.append('userId', currentUser.id);\n      images.forEach(img => formData.append('images', img));\n\n      // API call would go here\n      // const response = await fetch('/api/posts', {\n      //   method: 'POST',\n      //   body: formData\n      // });\n      // const newPost = await response.json();\n\n      const newPost = {\n        id: Date.now(),\n        userId: currentUser.id,\n        author: currentUser,\n        content,\n        images: [],\n        likes: [],\n        likeCount: 0,\n        comments: [],\n        commentCount: 0,\n        createdAt: new Date()\n      };\n\n      onPostCreated(newPost);\n      setContent('');\n      setImages([]);\n    } catch (err) {\n      setError('Failed to create post');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"create-post-container\">\n      <div className=\"create-post-header\">\n        <img \n          src={currentUser?.profileImage || '/default-avatar.png'} \n          alt={currentUser?.username}\n          className=\"profile-image\"\n        />\n        <div className=\"create-post-input-wrapper\">\n          <form onSubmit={handleSubmit}>\n            <textarea\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n              placeholder=\"What's on your mind?\"\n              className=\"post-textarea\"\n              maxLength={5000}\n            />\n            \n            {/* Image Preview */}\n            {images.length > 0 && (\n              <div className=\"image-preview-container\">\n                {images.map((img, idx) => (\n                  <div key={idx} className=\"image-preview\">\n                    <img src={URL.createObjectURL(img)} alt={`preview-${idx}`} />\n                    <button \n                      type=\"button\"\n                      onClick={() => removeImage(idx)}\n                      className=\"remove-image\"\n                    >\n                      Ã—\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {error && <div className=\"error-message\">{error}</div>}\n\n            <div className=\"create-post-footer\">\n              <div className=\"post-actions\">\n                <label className=\"action-btn create-action-btn\" title=\"Upload Image\">\n                  <input\n                    type=\"file\"\n                    multiple\n                    accept=\"image/*\"\n                    onChange={handleImageUpload}\n                    style={{ display: 'none' }}\n                  />\n                  <span className=\"create-action-icon\"><PhotoIcon /></span>\n                  Photo\n                </label>\n                <button type=\"button\" className=\"action-btn create-action-btn\" title=\"Add Video\">\n                  <span className=\"create-action-icon\"><VideoIcon /></span>\n                  Video\n                </button>\n                <button type=\"button\" className=\"action-btn create-action-btn\" title=\"Add Emoji\">\n                  <span className=\"create-action-icon\"><EmojiIcon /></span>\n                  Emoji\n                </button>\n              </div>\n\n              <button\n                type=\"submit\"\n                className=\"submit-btn\"\n                disabled={isLoading || (!content.trim() && images.length === 0)}\n              >\n                {isLoading ? 'Posting...' : 'Post'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreatePost;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}