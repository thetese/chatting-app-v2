{"ast":null,"code":"import _objectSpread from\"/home/justice/Desktop/chatting-app-1/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'../styles/home.css';import PostCard from'./PostCard';import CreatePost from'./create';import Story from'./Story';/**\n * Home Component\n * Main feed displaying posts from followed users and stories\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=_ref=>{let{currentUser,onPostCreated}=_ref;const[posts,setPosts]=useState([]);const[stories,setStories]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchFeed();},[currentUser]);const fetchFeed=async()=>{try{setLoading(true);// API call would go here\n// const response = await fetch(`/api/feed?userId=${currentUser.id}`);\n// const data = await response.json();\nsetPosts([]);setStories([]);setError(null);}catch(err){setError('Failed to load feed');console.error(err);}finally{setLoading(false);}};const handlePostCreated=newPost=>{setPosts([newPost,...posts]);if(onPostCreated)onPostCreated(newPost);};const handlePostLike=(postId,liked)=>{setPosts(posts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{likes:liked?[...post.likes,currentUser.id]:post.likes.filter(id=>id!==currentUser.id),likeCount:post.likeCount+(liked?1:-1)}):post));};const handlePostDelete=postId=>{setPosts(posts.filter(post=>post.id!==postId));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"home-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading feed...\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"home-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"feed-wrapper\",children:[stories.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"stories-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"stories-carousel\",children:stories.map(story=>/*#__PURE__*/_jsx(Story,{story:story,currentUser:currentUser},story.id))})}),/*#__PURE__*/_jsx(CreatePost,{currentUser:currentUser,onPostCreated:handlePostCreated}),/*#__PURE__*/_jsxs(\"div\",{className:\"posts-feed\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),posts.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No posts yet. Start following people to see their posts!\"})}):posts.map(post=>/*#__PURE__*/_jsx(PostCard,{post:post,currentUser:currentUser,onLike:handlePostLike,onDelete:handlePostDelete},post.id))]})]})});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","PostCard","CreatePost","Story","jsx","_jsx","jsxs","_jsxs","Home","_ref","currentUser","onPostCreated","posts","setPosts","stories","setStories","loading","setLoading","error","setError","fetchFeed","err","console","handlePostCreated","newPost","handlePostLike","postId","liked","map","post","id","_objectSpread","likes","filter","likeCount","handlePostDelete","className","children","length","story","onLike","onDelete"],"sources":["/home/justice/Desktop/chatting-app-1/app/src/components/home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../styles/home.css';\nimport PostCard from './PostCard';\nimport CreatePost from './create';\nimport Story from './Story';\n\n/**\n * Home Component\n * Main feed displaying posts from followed users and stories\n */\nconst Home = ({ currentUser, onPostCreated }) => {\n  const [posts, setPosts] = useState([]);\n  const [stories, setStories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetchFeed();\n  }, [currentUser]);\n\n  const fetchFeed = async () => {\n    try {\n      setLoading(true);\n      // API call would go here\n      // const response = await fetch(`/api/feed?userId=${currentUser.id}`);\n      // const data = await response.json();\n      setPosts([]);\n      setStories([]);\n      setError(null);\n    } catch (err) {\n      setError('Failed to load feed');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePostCreated = (newPost) => {\n    setPosts([newPost, ...posts]);\n    if (onPostCreated) onPostCreated(newPost);\n  };\n\n  const handlePostLike = (postId, liked) => {\n    setPosts(posts.map(post =>\n      post.id === postId\n        ? {\n            ...post,\n            likes: liked\n              ? [...post.likes, currentUser.id]\n              : post.likes.filter(id => id !== currentUser.id),\n            likeCount: post.likeCount + (liked ? 1 : -1)\n          }\n        : post\n    ));\n  };\n\n  const handlePostDelete = (postId) => {\n    setPosts(posts.filter(post => post.id !== postId));\n  };\n\n  if (loading) {\n    return <div className=\"home-container\"><div className=\"loading\">Loading feed...</div></div>;\n  }\n\n  return (\n    <div className=\"home-container\">\n      <div className=\"feed-wrapper\">\n        {/* Stories Section */}\n        {stories.length > 0 && (\n          <div className=\"stories-section\">\n            <div className=\"stories-carousel\">\n              {stories.map(story => (\n                <Story key={story.id} story={story} currentUser={currentUser} />\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Create Post */}\n        <CreatePost currentUser={currentUser} onPostCreated={handlePostCreated} />\n\n        {/* Posts Feed */}\n        <div className=\"posts-feed\">\n          {error && <div className=\"error-message\">{error}</div>}\n          {posts.length === 0 ? (\n            <div className=\"empty-state\">\n              <p>No posts yet. Start following people to see their posts!</p>\n            </div>\n          ) : (\n            posts.map(post => (\n              <PostCard\n                key={post.id}\n                post={post}\n                currentUser={currentUser}\n                onLike={handlePostLike}\n                onDelete={handlePostDelete}\n              />\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}