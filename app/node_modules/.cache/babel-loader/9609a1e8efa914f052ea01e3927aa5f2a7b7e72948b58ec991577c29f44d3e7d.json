{"ast":null,"code":"import _objectSpread from\"/home/justice/Desktop/chatting-app-1/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\n * API Service\n * Handles all API calls to the backend\n */const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:3000/api';class ApiService{static async request(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const token=localStorage.getItem('authToken');const headers=_objectSpread(_objectSpread({'Content-Type':'application/json'},options.headers),token&&{Authorization:\"Bearer \".concat(token)});try{const response=await fetch(\"\".concat(API_BASE_URL).concat(endpoint),_objectSpread(_objectSpread({},options),{},{headers}));if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}return await response.json();}catch(error){console.error('API request failed:',error);throw error;}}// Auth endpoints\nstatic register(userData){return this.request('/auth/register',{method:'POST',body:JSON.stringify(userData)});}static login(email,password){return this.request('/auth/login',{method:'POST',body:JSON.stringify({email,password})});}static logout(){localStorage.removeItem('authToken');localStorage.removeItem('user');}static getCurrentUser(){return this.request('/auth/me');}// User endpoints\nstatic getUser(userId){return this.request(\"/users/\".concat(userId));}static updateProfile(userId,userData){return this.request(\"/users/\".concat(userId),{method:'PUT',body:JSON.stringify(userData)});}static followUser(userId){return this.request(\"/users/\".concat(userId,\"/follow\"),{method:'POST'});}static unfollowUser(userId){return this.request(\"/users/\".concat(userId,\"/follow\"),{method:'DELETE'});}static getFollowers(userId){return this.request(\"/users/\".concat(userId,\"/followers\"));}static getFollowing(userId){return this.request(\"/users/\".concat(userId,\"/following\"));}// Post endpoints\nstatic getFeed(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const params=new URLSearchParams(options);return this.request(\"/posts/feed?\".concat(params));}static getPost(postId){return this.request(\"/posts/\".concat(postId));}static createPost(postData){return this.request('/posts',{method:'POST',body:JSON.stringify(postData)});}static updatePost(postId,postData){return this.request(\"/posts/\".concat(postId),{method:'PUT',body:JSON.stringify(postData)});}static deletePost(postId){return this.request(\"/posts/\".concat(postId),{method:'DELETE'});}static getUserPosts(userId){return this.request(\"/users/\".concat(userId,\"/posts\"));}// Like endpoints\nstatic likePost(postId){return this.request(\"/posts/\".concat(postId,\"/likes\"),{method:'POST'});}static unlikePost(postId){return this.request(\"/posts/\".concat(postId,\"/likes\"),{method:'DELETE'});}// Comment endpoints\nstatic getComments(postId){return this.request(\"/posts/\".concat(postId,\"/comments\"));}static addComment(postId,content){return this.request(\"/posts/\".concat(postId,\"/comments\"),{method:'POST',body:JSON.stringify({content})});}static deleteComment(commentId){return this.request(\"/comments/\".concat(commentId),{method:'DELETE'});}// Message endpoints\nstatic getConversations(){return this.request('/messages/conversations');}static getMessages(conversationId){return this.request(\"/messages/conversations/\".concat(conversationId));}static sendMessage(conversationId,content){return this.request(\"/messages/conversations/\".concat(conversationId),{method:'POST',body:JSON.stringify({content})});}// Notification endpoints\nstatic getNotifications(){return this.request('/notifications');}static markNotificationAsRead(notificationId){return this.request(\"/notifications/\".concat(notificationId,\"/read\"),{method:'PATCH'});}// Search endpoints\nstatic search(query){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'all';const params=new URLSearchParams({q:query,type});return this.request(\"/search?\".concat(params));}static getTrending(){return this.request('/trending');}// Story endpoints\nstatic getStories(){return this.request('/stories');}static createStory(storyData){return this.request('/stories',{method:'POST',body:JSON.stringify(storyData)});}static viewStory(storyId){return this.request(\"/stories/\".concat(storyId,\"/view\"),{method:'POST'});}}export default ApiService;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","request","endpoint","options","arguments","length","undefined","token","localStorage","getItem","headers","_objectSpread","Authorization","concat","response","fetch","ok","Error","status","json","error","console","register","userData","method","body","JSON","stringify","login","email","password","logout","removeItem","getCurrentUser","getUser","userId","updateProfile","followUser","unfollowUser","getFollowers","getFollowing","getFeed","params","URLSearchParams","getPost","postId","createPost","postData","updatePost","deletePost","getUserPosts","likePost","unlikePost","getComments","addComment","content","deleteComment","commentId","getConversations","getMessages","conversationId","sendMessage","getNotifications","markNotificationAsRead","notificationId","search","query","type","q","getTrending","getStories","createStory","storyData","viewStory","storyId"],"sources":["/home/justice/Desktop/chatting-app-1/app/src/utils/api.js"],"sourcesContent":["/**\n * API Service\n * Handles all API calls to the backend\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000/api';\n\nclass ApiService {\n  static async request(endpoint, options = {}) {\n    const token = localStorage.getItem('authToken');\n    \n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers,\n      ...(token && { Authorization: `Bearer ${token}` })\n    };\n\n    try {\n      const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n        ...options,\n        headers\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Auth endpoints\n  static register(userData) {\n    return this.request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  }\n\n  static login(email, password) {\n    return this.request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({ email, password })\n    });\n  }\n\n  static logout() {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('user');\n  }\n\n  static getCurrentUser() {\n    return this.request('/auth/me');\n  }\n\n  // User endpoints\n  static getUser(userId) {\n    return this.request(`/users/${userId}`);\n  }\n\n  static updateProfile(userId, userData) {\n    return this.request(`/users/${userId}`, {\n      method: 'PUT',\n      body: JSON.stringify(userData)\n    });\n  }\n\n  static followUser(userId) {\n    return this.request(`/users/${userId}/follow`, { method: 'POST' });\n  }\n\n  static unfollowUser(userId) {\n    return this.request(`/users/${userId}/follow`, { method: 'DELETE' });\n  }\n\n  static getFollowers(userId) {\n    return this.request(`/users/${userId}/followers`);\n  }\n\n  static getFollowing(userId) {\n    return this.request(`/users/${userId}/following`);\n  }\n\n  // Post endpoints\n  static getFeed(options = {}) {\n    const params = new URLSearchParams(options);\n    return this.request(`/posts/feed?${params}`);\n  }\n\n  static getPost(postId) {\n    return this.request(`/posts/${postId}`);\n  }\n\n  static createPost(postData) {\n    return this.request('/posts', {\n      method: 'POST',\n      body: JSON.stringify(postData)\n    });\n  }\n\n  static updatePost(postId, postData) {\n    return this.request(`/posts/${postId}`, {\n      method: 'PUT',\n      body: JSON.stringify(postData)\n    });\n  }\n\n  static deletePost(postId) {\n    return this.request(`/posts/${postId}`, { method: 'DELETE' });\n  }\n\n  static getUserPosts(userId) {\n    return this.request(`/users/${userId}/posts`);\n  }\n\n  // Like endpoints\n  static likePost(postId) {\n    return this.request(`/posts/${postId}/likes`, { method: 'POST' });\n  }\n\n  static unlikePost(postId) {\n    return this.request(`/posts/${postId}/likes`, { method: 'DELETE' });\n  }\n\n  // Comment endpoints\n  static getComments(postId) {\n    return this.request(`/posts/${postId}/comments`);\n  }\n\n  static addComment(postId, content) {\n    return this.request(`/posts/${postId}/comments`, {\n      method: 'POST',\n      body: JSON.stringify({ content })\n    });\n  }\n\n  static deleteComment(commentId) {\n    return this.request(`/comments/${commentId}`, { method: 'DELETE' });\n  }\n\n  // Message endpoints\n  static getConversations() {\n    return this.request('/messages/conversations');\n  }\n\n  static getMessages(conversationId) {\n    return this.request(`/messages/conversations/${conversationId}`);\n  }\n\n  static sendMessage(conversationId, content) {\n    return this.request(`/messages/conversations/${conversationId}`, {\n      method: 'POST',\n      body: JSON.stringify({ content })\n    });\n  }\n\n  // Notification endpoints\n  static getNotifications() {\n    return this.request('/notifications');\n  }\n\n  static markNotificationAsRead(notificationId) {\n    return this.request(`/notifications/${notificationId}/read`, {\n      method: 'PATCH'\n    });\n  }\n\n  // Search endpoints\n  static search(query, type = 'all') {\n    const params = new URLSearchParams({ q: query, type });\n    return this.request(`/search?${params}`);\n  }\n\n  static getTrending() {\n    return this.request('/trending');\n  }\n\n  // Story endpoints\n  static getStories() {\n    return this.request('/stories');\n  }\n\n  static createStory(storyData) {\n    return this.request('/stories', {\n      method: 'POST',\n      body: JSON.stringify(storyData)\n    });\n  }\n\n  static viewStory(storyId) {\n    return this.request(`/stories/${storyId}/view`, { method: 'POST' });\n  }\n}\n\nexport default ApiService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}