{"ast":null,"code":"/**\n * API Service\n * Handles all API calls to the backend\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000/api';\nclass ApiService {\n  static async request(endpoint, options = {}) {\n    const token = localStorage.getItem('authToken');\n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers,\n      ...(token && {\n        Authorization: `Bearer ${token}`\n      })\n    };\n    try {\n      const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n        ...options,\n        headers\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Auth endpoints\n  static register(userData) {\n    return this.request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  }\n  static login(email, password) {\n    return this.request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n  }\n  static logout() {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('user');\n  }\n  static getCurrentUser() {\n    return this.request('/auth/me');\n  }\n\n  // User endpoints\n  static getUser(userId) {\n    return this.request(`/users/${userId}`);\n  }\n  static updateProfile(userId, userData) {\n    return this.request(`/users/${userId}`, {\n      method: 'PUT',\n      body: JSON.stringify(userData)\n    });\n  }\n  static followUser(userId) {\n    return this.request(`/users/${userId}/follow`, {\n      method: 'POST'\n    });\n  }\n  static unfollowUser(userId) {\n    return this.request(`/users/${userId}/follow`, {\n      method: 'DELETE'\n    });\n  }\n  static getFollowers(userId) {\n    return this.request(`/users/${userId}/followers`);\n  }\n  static getFollowing(userId) {\n    return this.request(`/users/${userId}/following`);\n  }\n\n  // Post endpoints\n  static getFeed(options = {}) {\n    const params = new URLSearchParams(options);\n    return this.request(`/posts/feed?${params}`);\n  }\n  static getPost(postId) {\n    return this.request(`/posts/${postId}`);\n  }\n  static createPost(postData) {\n    return this.request('/posts', {\n      method: 'POST',\n      body: JSON.stringify(postData)\n    });\n  }\n  static updatePost(postId, postData) {\n    return this.request(`/posts/${postId}`, {\n      method: 'PUT',\n      body: JSON.stringify(postData)\n    });\n  }\n  static deletePost(postId) {\n    return this.request(`/posts/${postId}`, {\n      method: 'DELETE'\n    });\n  }\n  static getUserPosts(userId) {\n    return this.request(`/users/${userId}/posts`);\n  }\n\n  // Like endpoints\n  static likePost(postId) {\n    return this.request(`/posts/${postId}/likes`, {\n      method: 'POST'\n    });\n  }\n  static unlikePost(postId) {\n    return this.request(`/posts/${postId}/likes`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Comment endpoints\n  static getComments(postId) {\n    return this.request(`/posts/${postId}/comments`);\n  }\n  static addComment(postId, content) {\n    return this.request(`/posts/${postId}/comments`, {\n      method: 'POST',\n      body: JSON.stringify({\n        content\n      })\n    });\n  }\n  static deleteComment(commentId) {\n    return this.request(`/comments/${commentId}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Message endpoints\n  static getConversations() {\n    return this.request('/messages/conversations');\n  }\n  static getMessages(conversationId) {\n    return this.request(`/messages/conversations/${conversationId}`);\n  }\n  static sendMessage(conversationId, content) {\n    return this.request(`/messages/conversations/${conversationId}`, {\n      method: 'POST',\n      body: JSON.stringify({\n        content\n      })\n    });\n  }\n\n  // Notification endpoints\n  static getNotifications() {\n    return this.request('/notifications');\n  }\n  static markNotificationAsRead(notificationId) {\n    return this.request(`/notifications/${notificationId}/read`, {\n      method: 'PATCH'\n    });\n  }\n\n  // Search endpoints\n  static search(query, type = 'all') {\n    const params = new URLSearchParams({\n      q: query,\n      type\n    });\n    return this.request(`/search?${params}`);\n  }\n  static getTrending() {\n    return this.request('/trending');\n  }\n\n  // Story endpoints\n  static getStories() {\n    return this.request('/stories');\n  }\n  static createStory(storyData) {\n    return this.request('/stories', {\n      method: 'POST',\n      body: JSON.stringify(storyData)\n    });\n  }\n  static viewStory(storyId) {\n    return this.request(`/stories/${storyId}/view`, {\n      method: 'POST'\n    });\n  }\n}\nexport default ApiService;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","request","endpoint","options","token","localStorage","getItem","headers","Authorization","response","fetch","ok","Error","status","json","error","console","register","userData","method","body","JSON","stringify","login","email","password","logout","removeItem","getCurrentUser","getUser","userId","updateProfile","followUser","unfollowUser","getFollowers","getFollowing","getFeed","params","URLSearchParams","getPost","postId","createPost","postData","updatePost","deletePost","getUserPosts","likePost","unlikePost","getComments","addComment","content","deleteComment","commentId","getConversations","getMessages","conversationId","sendMessage","getNotifications","markNotificationAsRead","notificationId","search","query","type","q","getTrending","getStories","createStory","storyData","viewStory","storyId"],"sources":["/home/justice/Desktop/chatting-app-1/app/src/utils/api.js"],"sourcesContent":["/**\n * API Service\n * Handles all API calls to the backend\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000/api';\n\nclass ApiService {\n  static async request(endpoint, options = {}) {\n    const token = localStorage.getItem('authToken');\n    \n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers,\n      ...(token && { Authorization: `Bearer ${token}` })\n    };\n\n    try {\n      const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n        ...options,\n        headers\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Auth endpoints\n  static register(userData) {\n    return this.request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  }\n\n  static login(email, password) {\n    return this.request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({ email, password })\n    });\n  }\n\n  static logout() {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('user');\n  }\n\n  static getCurrentUser() {\n    return this.request('/auth/me');\n  }\n\n  // User endpoints\n  static getUser(userId) {\n    return this.request(`/users/${userId}`);\n  }\n\n  static updateProfile(userId, userData) {\n    return this.request(`/users/${userId}`, {\n      method: 'PUT',\n      body: JSON.stringify(userData)\n    });\n  }\n\n  static followUser(userId) {\n    return this.request(`/users/${userId}/follow`, { method: 'POST' });\n  }\n\n  static unfollowUser(userId) {\n    return this.request(`/users/${userId}/follow`, { method: 'DELETE' });\n  }\n\n  static getFollowers(userId) {\n    return this.request(`/users/${userId}/followers`);\n  }\n\n  static getFollowing(userId) {\n    return this.request(`/users/${userId}/following`);\n  }\n\n  // Post endpoints\n  static getFeed(options = {}) {\n    const params = new URLSearchParams(options);\n    return this.request(`/posts/feed?${params}`);\n  }\n\n  static getPost(postId) {\n    return this.request(`/posts/${postId}`);\n  }\n\n  static createPost(postData) {\n    return this.request('/posts', {\n      method: 'POST',\n      body: JSON.stringify(postData)\n    });\n  }\n\n  static updatePost(postId, postData) {\n    return this.request(`/posts/${postId}`, {\n      method: 'PUT',\n      body: JSON.stringify(postData)\n    });\n  }\n\n  static deletePost(postId) {\n    return this.request(`/posts/${postId}`, { method: 'DELETE' });\n  }\n\n  static getUserPosts(userId) {\n    return this.request(`/users/${userId}/posts`);\n  }\n\n  // Like endpoints\n  static likePost(postId) {\n    return this.request(`/posts/${postId}/likes`, { method: 'POST' });\n  }\n\n  static unlikePost(postId) {\n    return this.request(`/posts/${postId}/likes`, { method: 'DELETE' });\n  }\n\n  // Comment endpoints\n  static getComments(postId) {\n    return this.request(`/posts/${postId}/comments`);\n  }\n\n  static addComment(postId, content) {\n    return this.request(`/posts/${postId}/comments`, {\n      method: 'POST',\n      body: JSON.stringify({ content })\n    });\n  }\n\n  static deleteComment(commentId) {\n    return this.request(`/comments/${commentId}`, { method: 'DELETE' });\n  }\n\n  // Message endpoints\n  static getConversations() {\n    return this.request('/messages/conversations');\n  }\n\n  static getMessages(conversationId) {\n    return this.request(`/messages/conversations/${conversationId}`);\n  }\n\n  static sendMessage(conversationId, content) {\n    return this.request(`/messages/conversations/${conversationId}`, {\n      method: 'POST',\n      body: JSON.stringify({ content })\n    });\n  }\n\n  // Notification endpoints\n  static getNotifications() {\n    return this.request('/notifications');\n  }\n\n  static markNotificationAsRead(notificationId) {\n    return this.request(`/notifications/${notificationId}/read`, {\n      method: 'PATCH'\n    });\n  }\n\n  // Search endpoints\n  static search(query, type = 'all') {\n    const params = new URLSearchParams({ q: query, type });\n    return this.request(`/search?${params}`);\n  }\n\n  static getTrending() {\n    return this.request('/trending');\n  }\n\n  // Story endpoints\n  static getStories() {\n    return this.request('/stories');\n  }\n\n  static createStory(storyData) {\n    return this.request('/stories', {\n      method: 'POST',\n      body: JSON.stringify(storyData)\n    });\n  }\n\n  static viewStory(storyId) {\n    return this.request(`/stories/${storyId}/view`, { method: 'POST' });\n  }\n}\n\nexport default ApiService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}