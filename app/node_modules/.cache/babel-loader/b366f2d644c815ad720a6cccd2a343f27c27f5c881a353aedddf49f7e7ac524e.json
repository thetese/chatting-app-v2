{"ast":null,"code":"import _objectSpread from\"/home/justice/Desktop/chatting-app-1/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import'./styles/auth.css';import AuthService from'./utils/auth';import{useAppContext}from'./context/AppContext';/**\n * Register Component\n * User registration page\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const{register}=useAppContext();const navigate=useNavigate();const[formData,setFormData]=useState({username:'',email:'',password:'',confirmPassword:'',fullName:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setError('');// Validation\nif(!formData.username||!formData.email||!formData.password||!formData.fullName){setError('Please fill in all fields');return;}if(!AuthService.validateUsername(formData.username)){setError('Username must be 3-20 characters, alphanumeric and underscore only');return;}if(!AuthService.validateEmail(formData.email)){setError('Please enter a valid email address');return;}if(!AuthService.validatePassword(formData.password)){setError('Password must be at least 8 characters with uppercase, lowercase, number and special character');return;}if(formData.password!==formData.confirmPassword){setError('Passwords do not match');return;}try{setLoading(true);const response=await register({username:formData.username,email:formData.email,password:formData.password,fullName:formData.fullName});if(response!==null&&response!==void 0&&response.user){navigate('/',{replace:true});}}catch(err){setError(err.message||'Registration failed. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Join SocialHub\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Create your account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fullName\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"fullName\",type:\"text\",name:\"fullName\",value:formData.fullName,onChange:handleChange,placeholder:\"John Doe\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",type:\"text\",name:\"username\",value:formData.username,onChange:handleChange,placeholder:\"johndoe\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"you@example.com\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"confirmPassword\",type:\"password\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",disabled:loading})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",disabled:loading,children:loading?'Creating account...':'Create Account'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"auth-link\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Sign in\"})]})]})});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","Link","AuthService","useAppContext","jsx","_jsx","jsxs","_jsxs","Register","register","navigate","formData","setFormData","username","email","password","confirmPassword","fullName","error","setError","loading","setLoading","handleChange","e","name","value","target","prev","_objectSpread","handleSubmit","preventDefault","validateUsername","validateEmail","validatePassword","response","user","replace","err","message","className","children","onSubmit","htmlFor","id","type","onChange","placeholder","disabled","to"],"sources":["/home/justice/Desktop/chatting-app-1/app/src/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport './styles/auth.css';\nimport AuthService from './utils/auth';\nimport { useAppContext } from './context/AppContext';\n\n/**\n * Register Component\n * User registration page\n */\nconst Register = () => {\n  const { register } = useAppContext();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    fullName: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    // Validation\n    if (!formData.username || !formData.email || !formData.password || !formData.fullName) {\n      setError('Please fill in all fields');\n      return;\n    }\n\n    if (!AuthService.validateUsername(formData.username)) {\n      setError('Username must be 3-20 characters, alphanumeric and underscore only');\n      return;\n    }\n\n    if (!AuthService.validateEmail(formData.email)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n\n    if (!AuthService.validatePassword(formData.password)) {\n      setError('Password must be at least 8 characters with uppercase, lowercase, number and special character');\n      return;\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await register({\n        username: formData.username,\n        email: formData.email,\n        password: formData.password,\n        fullName: formData.fullName\n      });\n      if (response?.user) {\n        navigate('/', { replace: true });\n      }\n    } catch (err) {\n      setError(err.message || 'Registration failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-box\">\n        <h1>Join SocialHub</h1>\n        <p className=\"subtitle\">Create your account</p>\n\n        <form onSubmit={handleSubmit} className=\"auth-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"fullName\">Full Name</label>\n            <input\n              id=\"fullName\"\n              type=\"text\"\n              name=\"fullName\"\n              value={formData.fullName}\n              onChange={handleChange}\n              placeholder=\"John Doe\"\n              disabled={loading}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username</label>\n            <input\n              id=\"username\"\n              type=\"text\"\n              name=\"username\"\n              value={formData.username}\n              onChange={handleChange}\n              placeholder=\"johndoe\"\n              disabled={loading}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleChange}\n              placeholder=\"you@example.com\"\n              disabled={loading}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleChange}\n              placeholder=\"••••••••\"\n              disabled={loading}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"confirmPassword\">Confirm Password</label>\n            <input\n              id=\"confirmPassword\"\n              type=\"password\"\n              name=\"confirmPassword\"\n              value={formData.confirmPassword}\n              onChange={handleChange}\n              placeholder=\"••••••••\"\n              disabled={loading}\n            />\n          </div>\n\n          {error && <div className=\"error-message\">{error}</div>}\n\n          <button\n            type=\"submit\"\n            className=\"submit-btn\"\n            disabled={loading}\n          >\n            {loading ? 'Creating account...' : 'Create Account'}\n          </button>\n        </form>\n\n        <p className=\"auth-link\">\n          Already have an account? <Link to=\"/login\">Sign in</Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}