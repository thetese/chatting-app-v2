{"ast":null,"code":"import React,{useState}from'react';import'../styles/commentsection.css';/**\n * CommentSection Component\n * Displays and manages comments for a post\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CommentSection=_ref=>{let{postId,currentUser}=_ref;const[comments,setComments]=useState([]);const[newComment,setNewComment]=useState('');const[loading,setLoading]=useState(false);const handleAddComment=async e=>{e.preventDefault();if(!newComment.trim())return;try{setLoading(true);const comment={id:Date.now(),postId,userId:currentUser.id,author:currentUser,content:newComment,likes:[],likeCount:0,createdAt:new Date()};// API call would go here\n// await fetch(`/api/posts/${postId}/comments`, {\n//   method: 'POST',\n//   headers: { 'Content-Type': 'application/json' },\n//   body: JSON.stringify(comment)\n// });\nsetComments([comment,...comments]);setNewComment('');}catch(err){console.error('Failed to add comment:',err);}finally{setLoading(false);}};const handleDeleteComment=async commentId=>{try{// API call would go here\n// await fetch(`/api/comments/${commentId}`, { method: 'DELETE' });\nsetComments(comments.filter(c=>c.id!==commentId));}catch(err){console.error('Failed to delete comment:',err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"comment-section\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddComment,className:\"comment-form\",children:[/*#__PURE__*/_jsx(\"img\",{src:(currentUser===null||currentUser===void 0?void 0:currentUser.profileImage)||'/default-avatar.png',alt:currentUser===null||currentUser===void 0?void 0:currentUser.username,className:\"comment-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newComment,onChange:e=>setNewComment(e.target.value),placeholder:\"Write a comment...\",className:\"comment-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||!newComment.trim(),className:\"comment-submit-btn\",children:loading?'Posting...':'Post'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comments-list\",children:comments.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-comments\",children:\"No comments yet. Be the first to comment!\"}):comments.map(comment=>{var _comment$author,_comment$author2,_comment$author3,_comment$author4;return/*#__PURE__*/_jsxs(\"div\",{className:\"comment\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_comment$author=comment.author)===null||_comment$author===void 0?void 0:_comment$author.profileImage)||'/default-avatar.png',alt:(_comment$author2=comment.author)===null||_comment$author2===void 0?void 0:_comment$author2.username,className:\"comment-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comment-header\",children:[/*#__PURE__*/_jsx(\"strong\",{children:(_comment$author3=comment.author)===null||_comment$author3===void 0?void 0:_comment$author3.fullName}),/*#__PURE__*/_jsxs(\"span\",{className:\"comment-username\",children:[\"@\",(_comment$author4=comment.author)===null||_comment$author4===void 0?void 0:_comment$author4.username]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"comment-text\",children:comment.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"comment-action\",children:[\"Like (\",comment.likeCount,\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"comment-action\",children:\"Reply\"}),(currentUser===null||currentUser===void 0?void 0:currentUser.id)===comment.userId&&/*#__PURE__*/_jsx(\"button\",{className:\"comment-action delete\",onClick:()=>handleDeleteComment(comment.id),children:\"Delete\"})]})]})]},comment.id);})})]});};export default CommentSection;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","CommentSection","_ref","postId","currentUser","comments","setComments","newComment","setNewComment","loading","setLoading","handleAddComment","e","preventDefault","trim","comment","id","Date","now","userId","author","content","likes","likeCount","createdAt","err","console","error","handleDeleteComment","commentId","filter","c","className","children","onSubmit","src","profileImage","alt","username","type","value","onChange","target","placeholder","disabled","length","map","_comment$author","_comment$author2","_comment$author3","_comment$author4","fullName","onClick"],"sources":["/home/justice/Desktop/chatting-app-1/app/src/components/CommentSection.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styles/commentsection.css';\n\n/**\n * CommentSection Component\n * Displays and manages comments for a post\n */\nconst CommentSection = ({ postId, currentUser }) => {\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleAddComment = async (e) => {\n    e.preventDefault();\n    \n    if (!newComment.trim()) return;\n\n    try {\n      setLoading(true);\n\n      const comment = {\n        id: Date.now(),\n        postId,\n        userId: currentUser.id,\n        author: currentUser,\n        content: newComment,\n        likes: [],\n        likeCount: 0,\n        createdAt: new Date()\n      };\n\n      // API call would go here\n      // await fetch(`/api/posts/${postId}/comments`, {\n      //   method: 'POST',\n      //   headers: { 'Content-Type': 'application/json' },\n      //   body: JSON.stringify(comment)\n      // });\n\n      setComments([comment, ...comments]);\n      setNewComment('');\n    } catch (err) {\n      console.error('Failed to add comment:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteComment = async (commentId) => {\n    try {\n      // API call would go here\n      // await fetch(`/api/comments/${commentId}`, { method: 'DELETE' });\n      \n      setComments(comments.filter(c => c.id !== commentId));\n    } catch (err) {\n      console.error('Failed to delete comment:', err);\n    }\n  };\n\n  return (\n    <div className=\"comment-section\">\n      {/* Comment Form */}\n      <form onSubmit={handleAddComment} className=\"comment-form\">\n        <img\n          src={currentUser?.profileImage || '/default-avatar.png'}\n          alt={currentUser?.username}\n          className=\"comment-avatar\"\n        />\n        <div className=\"comment-input-wrapper\">\n          <input\n            type=\"text\"\n            value={newComment}\n            onChange={(e) => setNewComment(e.target.value)}\n            placeholder=\"Write a comment...\"\n            className=\"comment-input\"\n          />\n          <button\n            type=\"submit\"\n            disabled={loading || !newComment.trim()}\n            className=\"comment-submit-btn\"\n          >\n            {loading ? 'Posting...' : 'Post'}\n          </button>\n        </div>\n      </form>\n\n      {/* Comments List */}\n      <div className=\"comments-list\">\n        {comments.length === 0 ? (\n          <p className=\"no-comments\">No comments yet. Be the first to comment!</p>\n        ) : (\n          comments.map(comment => (\n            <div key={comment.id} className=\"comment\">\n              <img\n                src={comment.author?.profileImage || '/default-avatar.png'}\n                alt={comment.author?.username}\n                className=\"comment-avatar\"\n              />\n              <div className=\"comment-content\">\n                <div className=\"comment-header\">\n                  <strong>{comment.author?.fullName}</strong>\n                  <span className=\"comment-username\">@{comment.author?.username}</span>\n                </div>\n                <p className=\"comment-text\">{comment.content}</p>\n                <div className=\"comment-actions\">\n                  <button className=\"comment-action\">Like ({comment.likeCount})</button>\n                  <button className=\"comment-action\">Reply</button>\n                  {currentUser?.id === comment.userId && (\n                    <button\n                      className=\"comment-action delete\"\n                      onClick={() => handleDeleteComment(comment.id)}\n                    >\n                      Delete\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CommentSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}