{"ast":null,"code":"import React,{useState}from'react';import'../styles/postcard.css';import CommentSection from'./CommentSection';/**\n * PostCard Component\n * Reusable component to display individual posts\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PostCard=_ref=>{var _post$likes,_post$author,_post$author2,_post$author3,_post$author4;let{post,currentUser,onLike,onDelete,compact=false}=_ref;const[isLiked,setIsLiked]=useState((_post$likes=post.likes)===null||_post$likes===void 0?void 0:_post$likes.includes(currentUser===null||currentUser===void 0?void 0:currentUser.id));const[showComments,setShowComments]=useState(false);const[isMenuOpen,setIsMenuOpen]=useState(false);const handleLike=async()=>{try{const newLikedState=!isLiked;setIsLiked(newLikedState);// API call would go here\n// await fetch(`/api/posts/${post.id}/like`, {\n//   method: newLikedState ? 'POST' : 'DELETE'\n// });\nif(onLike){onLike(post.id,newLikedState);}}catch(err){setIsLiked(!isLiked);console.error('Failed to like post:',err);}};const handleDelete=async()=>{if(!window.confirm('Are you sure you want to delete this post?'))return;try{// API call would go here\n// await fetch(`/api/posts/${post.id}`, { method: 'DELETE' });\nif(onDelete){onDelete(post.id);}}catch(err){console.error('Failed to delete post:',err);}};const isOwnPost=(currentUser===null||currentUser===void 0?void 0:currentUser.id)===post.userId;if(compact){var _post$images;return/*#__PURE__*/_jsxs(\"div\",{className:\"post-card-compact\",children:[((_post$images=post.images)===null||_post$images===void 0?void 0:_post$images[0])&&/*#__PURE__*/_jsx(\"img\",{src:post.images[0],alt:\"post\",className:\"post-thumbnail\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"compact-overlay\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"like-count\",children:[\"\\u2764\\uFE0F \",post.likeCount]}),/*#__PURE__*/_jsxs(\"span\",{className:\"comment-count\",children:[\"\\uD83D\\uDCAC \",post.commentCount]})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"post-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-author\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_post$author=post.author)===null||_post$author===void 0?void 0:_post$author.profileImage)||'/default-avatar.png',alt:(_post$author2=post.author)===null||_post$author2===void 0?void 0:_post$author2.username,className:\"author-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"author-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:(_post$author3=post.author)===null||_post$author3===void 0?void 0:_post$author3.fullName}),/*#__PURE__*/_jsxs(\"p\",{className:\"username\",children:[\"@\",(_post$author4=post.author)===null||_post$author4===void 0?void 0:_post$author4.username]}),/*#__PURE__*/_jsx(\"span\",{className:\"timestamp\",children:new Date(post.createdAt).toLocaleDateString()})]})]}),isOwnPost&&/*#__PURE__*/_jsxs(\"div\",{className:\"post-menu\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-btn\",onClick:()=>setIsMenuOpen(!isMenuOpen),children:\"\\u22EE\"}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"menu-dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,children:\"Delete Post\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Edit Post\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Share\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"post-text\",children:post.content}),post.images&&post.images.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"post-images\",children:post.images.map((img,idx)=>/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"post-\".concat(idx)},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-stats\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[post.likeCount,\" Likes\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[post.commentCount,\" Comments\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn \".concat(isLiked?'active':''),onClick:handleLike,children:[isLiked?'‚ù§Ô∏è':'ü§ç',\" Like\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",onClick:()=>setShowComments(!showComments),children:\"\\uD83D\\uDCAC Comment\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",children:\"\\uD83D\\uDD04 Share\"})]}),showComments&&/*#__PURE__*/_jsx(CommentSection,{postId:post.id,currentUser:currentUser})]});};export default PostCard;","map":{"version":3,"names":["React","useState","CommentSection","jsx","_jsx","jsxs","_jsxs","PostCard","_ref","_post$likes","_post$author","_post$author2","_post$author3","_post$author4","post","currentUser","onLike","onDelete","compact","isLiked","setIsLiked","likes","includes","id","showComments","setShowComments","isMenuOpen","setIsMenuOpen","handleLike","newLikedState","err","console","error","handleDelete","window","confirm","isOwnPost","userId","_post$images","className","children","images","src","alt","likeCount","commentCount","author","profileImage","username","fullName","Date","createdAt","toLocaleDateString","onClick","content","length","map","img","idx","concat","postId"],"sources":["/home/justice/Desktop/chatting-app-1/app/src/components/PostCard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styles/postcard.css';\nimport CommentSection from './CommentSection';\n\n/**\n * PostCard Component\n * Reusable component to display individual posts\n */\nconst PostCard = ({ post, currentUser, onLike, onDelete, compact = false }) => {\n  const [isLiked, setIsLiked] = useState(post.likes?.includes(currentUser?.id));\n  const [showComments, setShowComments] = useState(false);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  const handleLike = async () => {\n    try {\n      const newLikedState = !isLiked;\n      setIsLiked(newLikedState);\n      \n      // API call would go here\n      // await fetch(`/api/posts/${post.id}/like`, {\n      //   method: newLikedState ? 'POST' : 'DELETE'\n      // });\n\n      if (onLike) {\n        onLike(post.id, newLikedState);\n      }\n    } catch (err) {\n      setIsLiked(!isLiked);\n      console.error('Failed to like post:', err);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!window.confirm('Are you sure you want to delete this post?')) return;\n\n    try {\n      // API call would go here\n      // await fetch(`/api/posts/${post.id}`, { method: 'DELETE' });\n      \n      if (onDelete) {\n        onDelete(post.id);\n      }\n    } catch (err) {\n      console.error('Failed to delete post:', err);\n    }\n  };\n\n  const isOwnPost = currentUser?.id === post.userId;\n\n  if (compact) {\n    return (\n      <div className=\"post-card-compact\">\n        {post.images?.[0] && (\n          <img src={post.images[0]} alt=\"post\" className=\"post-thumbnail\" />\n        )}\n        <div className=\"compact-overlay\">\n          <span className=\"like-count\">‚ù§Ô∏è {post.likeCount}</span>\n          <span className=\"comment-count\">üí¨ {post.commentCount}</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"post-card\">\n      {/* Header */}\n      <div className=\"post-header\">\n        <div className=\"post-author\">\n          <img\n            src={post.author?.profileImage || '/default-avatar.png'}\n            alt={post.author?.username}\n            className=\"author-avatar\"\n          />\n          <div className=\"author-info\">\n            <h4>{post.author?.fullName}</h4>\n            <p className=\"username\">@{post.author?.username}</p>\n            <span className=\"timestamp\">\n              {new Date(post.createdAt).toLocaleDateString()}\n            </span>\n          </div>\n        </div>\n\n        {isOwnPost && (\n          <div className=\"post-menu\">\n            <button\n              className=\"menu-btn\"\n              onClick={() => setIsMenuOpen(!isMenuOpen)}\n            >\n              ‚ãÆ\n            </button>\n            {isMenuOpen && (\n              <div className=\"menu-dropdown\">\n                <button onClick={handleDelete}>Delete Post</button>\n                <button>Edit Post</button>\n                <button>Share</button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Content */}\n      <div className=\"post-content\">\n        <p className=\"post-text\">{post.content}</p>\n\n        {post.images && post.images.length > 0 && (\n          <div className=\"post-images\">\n            {post.images.map((img, idx) => (\n              <img key={idx} src={img} alt={`post-${idx}`} />\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Stats */}\n      <div className=\"post-stats\">\n        <span>{post.likeCount} Likes</span>\n        <span>{post.commentCount} Comments</span>\n      </div>\n\n      {/* Actions */}\n      <div className=\"post-actions\">\n        <button\n          className={`action-btn ${isLiked ? 'active' : ''}`}\n          onClick={handleLike}\n        >\n          {isLiked ? '‚ù§Ô∏è' : 'ü§ç'} Like\n        </button>\n        <button\n          className=\"action-btn\"\n          onClick={() => setShowComments(!showComments)}\n        >\n          üí¨ Comment\n        </button>\n        <button className=\"action-btn\">\n          üîÑ Share\n        </button>\n      </div>\n\n      {/* Comments Section */}\n      {showComments && (\n        <CommentSection postId={post.id} currentUser={currentUser} />\n      )}\n    </div>\n  );\n};\n\nexport default PostCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}